<!DOCTYPE html>
<html>
<head>
    <title>YT Downloader</title>
    <style>
        body { font-family: sans-serif; display: flex; flex-direction: column; align-items: center; padding-top: 50px; }
        input { width: 300px; padding: 10px; margin-bottom: 10px; }
        button { padding: 10px 20px; cursor: pointer; background: #ff0000; color: white; border: none; border-radius: 5px; }
        #status { margin-top: 20px; }
    </style>
</head>
<body>
    <h2>YouTube Downloader</h2>
    <input type="text" id="url" placeholder="Paste YouTube Link Here">
    <button onclick="downloadVideo()">Get Download Link</button>
    <div id="status"></div>

    <script>
        // UPDATE THIS URL WITH YOUR NGROK LINK
        const BACKEND_URL = 'https://YOUR-NGROK-ID.ngrok-free.app/get-video';

        async function downloadVideo() {
            const urlInput = document.getElementById('url').value;
            const status = document.getElementById('status');
            
            status.innerText = "Processing... check your laptop terminal.";

            try {
                const response = await fetch(BACKEND_URL, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ url: urlInput })
                });

                const data = await response.json();

                if (data.success) {
                    status.innerHTML = `<a href="${data.download_url}" target="_blank">Click here to open/download video</a>`;
                    // Automatically open in new tab
                    window.open(data.download_url, '_blank');
                } else {
                    status.innerText = "Error: " + data.error;
                }
            } catch (err) {
                status.innerText = "Check if your laptop server and ngrok are running!";
            }
        }
    </script>
</body>
</html>
